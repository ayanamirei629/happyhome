{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{255:function(t,s,i){},356:function(t,s,i){\"use strict\";i(255)},362:function(t,s,i){\"use strict\";i.r(s);i(92);class a{constructor(t,s,i,a,n,e,h){this.x=t,this.y=s,this.s=i,this.r=a,this.fn=n,this.that=e,this.img=h}draw(t){t.save();this.s;t.translate(this.x,this.y),t.rotate(this.r),t.drawImage(this.img,0,0,40*this.s,40*this.s),t.restore()}update(){this.x=this.fn.x(this.x,this.y),this.y=this.fn.y(this.y,this.y),this.r=this.fn.r(this.r),(this.x>window.innerWidth||this.x<0||this.y>window.innerHeight||this.y<0)&&(this.r=this.that.getRandom(\"fnr\"),Math.random()>.4?(this.x=this.that.getRandom(\"x\"),this.y=0,this.s=this.that.getRandom(\"s\"),this.r=this.that.getRandom(\"r\")):(this.x=window.innerWidth,this.y=this.that.getRandom(\"y\"),this.s=this.that.getRandom(\"s\"),this.r=this.that.getRandom(\"r\")))}}class n{constructor(){this.list=[]}push(t){this.list.push(t)}update(){for(var t=0,s=this.list.length;t<s;t++)this.list[t].update()}draw(t){for(var s=0,i=this.list.length;s<i;s++)this.list[s].draw(t)}get(t){return this.list[t]}size(){return this.list.length}}var e={name:\"Sakura\",data:()=>({staticx:!1,stop:null,num:50,show:!0,zIndex:0}),mounted(){this.$nextTick(()=>{this.show&&this.startSakura()})},methods:{getRandom(t){var s,i;switch(t){case\"x\":s=Math.random()*window.innerWidth;break;case\"y\":s=Math.random()*window.innerHeight;break;case\"s\":s=Math.random();break;case\"r\":s=6*Math.random();break;case\"fnx\":i=1*Math.random()-.5,s=function(t,s){return t+.15*i-.51};break;case\"fny\":i=1.5+.7*Math.random(),s=function(t,s){return s+.3*i};break;case\"fnr\":i=.03*Math.random(),s=function(t){return t+i}}return s},startSakura(){let t=this;requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;var s=document.getElementById(\"canvas_sakura\");this.staticx=!0,this.$refs.canvas_sakura.width=window.innerWidth,this.$refs.canvas_sakura.height=window.innerHeight;var i=this.$refs.canvas_sakura.getContext(\"2d\"),e=new n;const h=new Image;h.src=\"https://cdn.jsdelivr.net/gh/nineya/blog_file/images/yinghua/yinghua.png\";for(var r=0;r<t.num;r++){let t,s,n,r,o,d,m,u;s=this.getRandom(\"x\"),n=this.getRandom(\"y\"),o=this.getRandom(\"r\"),r=this.getRandom(\"s\"),d=this.getRandom(\"fnx\"),m=this.getRandom(\"fny\"),u=this.getRandom(\"fnr\"),t=new a(s,n,r,o,{x:d,y:m,r:u},this,h),t.draw(i),e.push(t)}this.stop=requestAnimationFrame((function a(){i.clearRect(0,0,s.width,s.height),e.update(),e.draw(i),t.stop=requestAnimationFrame(a)}))},stopp(){if(this.staticx){var t=document.getElementById(\"canvas_sakura\");t.parentNode.removeChild(t),window.cancelAnimationFrame(this.stop),this.staticx=!1}else this.startSakura()}}},h=(i(356),i(14)),r=Object(h.a)(e,(function(){var t=this._self._c;return t(\"div\",{staticClass:\"Sakura\"},[t(\"canvas\",{ref:\"canvas_sakura\",style:{zIndex:this.zIndex},attrs:{id:\"canvas_sakura\"}})])}),[],!1,null,\"5b3e60e2\",null);s.default=r.exports}}]);","extractedComments":[]}